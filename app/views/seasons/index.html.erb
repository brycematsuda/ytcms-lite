<% @page_title = "Seasons of \"" + @show.name + "\"" %>
<%= link_to("<< Back to Shows", {:controller => 'shows', :action => 'index'}, :class => 'back') %>
<div class="panel panel-default">
  <div class="panel-body">
<%= link_to '+ Add New Season', {:action => 'new', :show_id => @show.id}, :class => "btn btn-default" %>
</div>
<div class="panel-heading">Listing <%= pluralize(@show.seasons.size, 'season') %> of "<%= @show.name %>"</div>
<table class="table">
  <thead>
    <tr>
      <th>#</th>
      <th>Name</th>
      <th>Permalink</th>
      <th>Description</th>
      <th>Visible</th>
      <th>Options</th>
    </tr>
  </thead>

  <tbody>
    <% @seasons.each do |season| %>
      <tr>
        <td><%= season.position %></td>
        <td><%= truncate(season.name, length: 45) %></td>
        <td><%= truncate(season.permalink, length: 20) %></td>
        <td><%= truncate(season.description, length: 20) %></td>
        <td><%= season.visible ? "Yes" : "No" %></td>
        <td>
        <div class="btn-group">
            <%= link_to "View Episodes", {:controller => 'episodes', :season_id => season.id}, :class => "btn btn-default" %>
            <%= link_to 'Edit', {:action => 'edit', :id => season.id, :show_id => @show.id }, :class => "btn btn-default" %>
            <%= link_to "Delete", {:action => 'delete', :id => season.id, :show_id => @show.id}, :class => "btn btn-default" %>
            </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>
